<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home - VATSIM Germany PMP</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
<div class="mobile-header-controls">
  <button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-label="Toggle Navigation Menu">
    <!-- Better airplane icon -->
    <svg class="icon-plane" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M17.8 19.2L16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"></path>
    </svg>
    <span class="sr-only">Toggle Menu</span>
  </button>
</div>

<div class="header-container" id="header-container">
  <div class="header">
      <button class="dark-mode-toggle" id="dark-mode-toggle" aria-label="Toggle Dark Mode">
          <svg class="icon-moon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
          </svg>
          <svg class="icon-sun" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="5"></circle>
              <line x1="12" y1="1" x2="12" y2="3"></line>
              <line x1="12" y1="21" x2="12" y2="23"></line>
              <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
              <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
              <line x1="1" y1="12" x2="3" y2="12"></line>
              <line x1="21" y1="12" x2="23" y2="12"></line>
              <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
              <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
          </svg>
          <span class="toggle-text">Dark Mode</span>
      </button>
      <div class="logo" aria-label="VATSIM Germany Logo">VATSIM Germany</div>
      <h1>Piloten-Mentoren-Programm</h1>
  </div>
  <nav class="nav" aria-label="Hauptnavigation">
      <a href="/" id="nav-home">Home</a>
      <a href="/teilnahme" id="nav-teilnahme">Teilnahme</a>
      <a href="/events" id="nav-events">Events</a>
      <a href="/howto" id="nav-howto">How to get started</a>
      <a href="/kontakt" id="nav-kontakt">Kontakt</a>
  </nav>
</div>
<script>
  // Dark Mode Toggle
  const darkModeToggle = document.getElementById('dark-mode-toggle');
  const toggleText = darkModeToggle.querySelector('.toggle-text');
  const currentTheme = localStorage.getItem('theme') || 'light';
  
  // Set initial theme
  document.documentElement.setAttribute('data-theme', currentTheme);
  updateToggleState(currentTheme);
  
  function updateToggleState(theme) {
    if (theme === 'dark') {
      toggleText.textContent = 'Light Mode';
      darkModeToggle.classList.add('dark-active');
    } else {
      toggleText.textContent = 'Dark Mode';
      darkModeToggle.classList.remove('dark-active');
    }
  }
  
  darkModeToggle.addEventListener('click', () => {
    const currentTheme = document.documentElement.getAttribute('data-theme');
    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
    
    document.documentElement.setAttribute('data-theme', newTheme);
    localStorage.setItem('theme', newTheme);
    updateToggleState(newTheme);
  });

  // Highlight active nav link
  const navMap = {
    '/': 'nav-home',
    '/teilnahme': 'nav-teilnahme',
    '/events': 'nav-events',
    '/howto': 'nav-howto',
    '/kontakt': 'nav-kontakt'
  };
  const path = window.location.pathname.replace(/\/$/, '') || '/';
  if (navMap[path]) {
    document.getElementById(navMap[path])?.classList.add('active');
  }

  // IMPROVED Mobile menu toggle without auto-collapse
  const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
  const headerContainer = document.getElementById('header-container');
  
  // Set initial state for mobile with a delay to ensure proper rendering
  setTimeout(() => {
    if (window.innerWidth < 768) {
      headerContainer.classList.add('collapsed');
      mobileMenuToggle.classList.add('menu-closed');
      mobileMenuToggle.setAttribute('aria-expanded', 'false');
    }
  }, 200);
  
  // Simple toggle handler without debounce
  mobileMenuToggle.addEventListener('click', (e) => {
    e.preventDefault();
    headerContainer.classList.toggle('collapsed');
    mobileMenuToggle.classList.toggle('menu-closed');
    
    // Update aria-expanded attribute for accessibility
    const isExpanded = !headerContainer.classList.contains('collapsed');
    mobileMenuToggle.setAttribute('aria-expanded', isExpanded ? 'true' : 'false');
  });
  
  // Resize handler that only sets initial state but doesn't auto-collapse
  function handleResize() {
    // Only set collapsed state on initial load if screen is mobile size
    if (window.innerWidth < 768 && !headerContainer.classList.contains('manual-toggle')) {
      headerContainer.classList.add('collapsed');
      mobileMenuToggle.classList.add('menu-closed');
      mobileMenuToggle.setAttribute('aria-expanded', 'false');
    } else if (window.innerWidth >= 768) {
      // On larger screens, always expand
      headerContainer.classList.remove('collapsed');
      mobileMenuToggle.classList.remove('menu-closed');
      mobileMenuToggle.setAttribute('aria-expanded', 'true');
      headerContainer.classList.remove('manual-toggle');
    }
  }
  
  // Mark the header as manually toggled when clicked
  mobileMenuToggle.addEventListener('click', () => {
    headerContainer.classList.add('manual-toggle');
  });
  
  // Run once on load and attach to resize
  handleResize();
  window.addEventListener('resize', handleResize);
</script>
    <div class="container">
        <h2>Herzlich willkommen beim Piloten-Mentoren-Programm!</h2>
        <p>
            Das <strong>Piloten-Mentoren-Programm (PMP)</strong> von VATSIM Germany ist Deine Anlaufstelle, um als virtueller Pilot auf VATSIM durchzustarten. 
            Unser Ziel ist es, Dir mit erfahrenen Mentoren zur Seite zu stehen, damit Du Deine Fähigkeiten im Umgang mit virtueller Flugsicherung gezielt ausbauen kannst – egal, ob Du gerade erst beginnst oder schon erste Erfahrungen gesammelt hast.
        </p>
        <p>
            Wir bieten Dir eine persönliche und freundliche Lernumgebung, in der Du nicht nur die technischen Aspekte des Fliegens, sondern auch die Kommunikation mit ATC und das Verhalten im Netzwerk erlernen kannst. 
            Unser Mentorenteam begleitet Dich individuell, damit Du sicher und mit Freude am virtuellen Luftverkehr teilnehmen kannst.
        </p>
        <div class="grid">
            <div class="card">
                <h3>Für Newbies</h3>
                <p>
                    Du möchtest Deine Fähigkeiten als Pilot verbessern? 
                    Unsere Mentoren helfen Dir, Unsicherheiten abzubauen und Routine im Umgang mit Flugzeugen und ATC zu gewinnen.
                </p>
            </div>
            <div class="card">
                <h3>Für Mentoren</h3>
                <p>
                    Du bist ein erfahrener Pilot und möchtest Dein Wissen weitergeben? Werde Teil unseres Mentorenteams und unterstütze neue Mitglieder beim Einstieg in die Welt von VATSIM. 
                    Gemeinsam sorgen wir für eine starke Community und fördern die nächste Generation virtueller Piloten.
                </p>
            </div>
            <div class="card">
                <h3>Events & Trainings</h3>
                <p>
                    Hier könnte ein spannender Text über den Newbieday stehen
                </p>
            </div>
        </div>
        <div class="card">
            <h3>Warum PMP?</h3>
            <ul>
                <li>Individuelle Betreuung durch erfahrene Mentoren</li>
                <li>Strukturierte Lerninhalte und praxisnahe Übungen</li>
                <li>Regelmäßige Events und Gruppenflüge</li>
                <li>Starke Community und freundliche Atmosphäre</li>
            </ul>
        </div>
    </div>
    <div class="footer">
        <p>
            &copy; <span id="year"></span> Jacob Koglin &ndash; VATSIM Germany PMP<br>
            <small>Fragen? Kontaktieren Sie uns jederzeit über das <a href="/kontakt">Forum</a>.</small>
        </p>
    </div>
    <script>
        document.getElementById('year').textContent = new Date().getFullYear();
    </script>
</body>
</html>
